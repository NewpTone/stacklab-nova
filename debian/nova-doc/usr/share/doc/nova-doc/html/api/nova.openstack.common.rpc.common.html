
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The nova.openstack.common.rpc.common Module &mdash; nova 2012.2.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2012.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.tweet.js"></script>
    <link rel="top" title="nova 2012.2.1 documentation" href="../index.html" />
    <link rel="up" title="&lt;no title&gt;" href="autoindex.html" />
    <link rel="next" title="The nova.openstack.common.rpc.dispatcher Module" href="nova.openstack.common.rpc.dispatcher.html" />
    <link rel="prev" title="The nova.openstack.common.rpc.amqp Module" href="nova.openstack.common.rpc.amqp.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-nova.openstack.common.rpc.common">
<span id="the-nova-openstack-common-rpc-common-module"></span><h1>The <a class="reference internal" href="#module-nova.openstack.common.rpc.common" title="nova.openstack.common.rpc.common"><tt class="xref py py-mod docutils literal"><span class="pre">nova.openstack.common.rpc.common</span></tt></a> Module<a class="headerlink" href="#module-nova.openstack.common.rpc.common" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="nova.openstack.common.rpc.common.CommonRpcContext">
<em class="property">class </em><tt class="descname">CommonRpcContext</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.CommonRpcContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="nova.openstack.common.rpc.common.CommonRpcContext.deepcopy">
<tt class="descname">deepcopy</tt><big>(</big><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.CommonRpcContext.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nova.openstack.common.rpc.common.CommonRpcContext.elevated">
<tt class="descname">elevated</tt><big>(</big><em>read_deleted=None</em>, <em>overwrite=False</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.CommonRpcContext.elevated" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a version of this context with admin flag set.</p>
</dd></dl>

<dl class="classmethod">
<dt id="nova.openstack.common.rpc.common.CommonRpcContext.from_dict">
<em class="property">classmethod </em><tt class="descname">from_dict</tt><big>(</big><em>values</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.CommonRpcContext.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nova.openstack.common.rpc.common.CommonRpcContext.to_dict">
<tt class="descname">to_dict</tt><big>(</big><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.CommonRpcContext.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nova.openstack.common.rpc.common.CommonRpcContext.update_store">
<tt class="descname">update_store</tt><big>(</big><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.CommonRpcContext.update_store" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="nova.openstack.common.rpc.common.Connection">
<em class="property">class </em><tt class="descname">Connection</tt><a class="headerlink" href="#nova.openstack.common.rpc.common.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A connection, returned by rpc.create_connection().</p>
<p>This class represents a connection to the message bus used for rpc.
An instance of this class should never be created by users of the rpc API.
Use rpc.create_connection() instead.</p>
<dl class="method">
<dt id="nova.openstack.common.rpc.common.Connection.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.Connection.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the connection.</p>
<p>This method must be called when the connection will no longer be used.
It will ensure that any resources associated with the connection, such
as a network connection, and cleaned up.</p>
</dd></dl>

<dl class="method">
<dt id="nova.openstack.common.rpc.common.Connection.consume_in_thread">
<tt class="descname">consume_in_thread</tt><big>(</big><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.Connection.consume_in_thread" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a thread to handle incoming messages.</p>
<p>Spawn a thread that will be responsible for handling all incoming
messages for consumers that were set up on this connection.</p>
<p>Message dispatching inside of this is expected to be implemented in a
non-blocking manner.  An example implementation would be having this
thread pull messages in for all of the consumers, but utilize a thread
pool for dispatching the messages to the proxy objects.</p>
</dd></dl>

<dl class="method">
<dt id="nova.openstack.common.rpc.common.Connection.create_consumer">
<tt class="descname">create_consumer</tt><big>(</big><em>topic</em>, <em>proxy</em>, <em>fanout=False</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.Connection.create_consumer" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a consumer on this connection.</p>
<p>A consumer is associated with a message queue on the backend message
bus.  The consumer will read messages from the queue, unpack them, and
dispatch them to the proxy object.  The contents of the message pulled
off of the queue will determine which method gets called on the proxy
object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>topic</strong> &#8211; This is a name associated with what to consume from.
Multiple instances of a service may consume from the same
topic. For example, all instances of nova-compute consume
from a queue called &#8220;compute&#8221;.  In that case, the
messages will get distributed amongst the consumers in a
round-robin fashion if fanout=False.  If fanout=True,
every consumer associated with this topic will get a
copy of every message.</li>
<li><strong>proxy</strong> &#8211; The object that will handle all incoming messages.</li>
<li><strong>fanout</strong> &#8211; Whether or not this is a fanout topic.  See the
documentation for the topic parameter for some
additional comments on this.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nova.openstack.common.rpc.common.Connection.create_worker">
<tt class="descname">create_worker</tt><big>(</big><em>topic</em>, <em>proxy</em>, <em>pool_name</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.Connection.create_worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a worker on this connection.</p>
<p>A worker is like a regular consumer of messages directed to a
topic, except that it is part of a set of such consumers (the
&#8220;pool&#8221;) which may run in parallel. Every pool of workers will
receive a given message, but only one worker in the pool will
be asked to process it. Load is distributed across the members
of the pool in round-robin fashion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>topic</strong> &#8211; This is a name associated with what to consume from.
Multiple instances of a service may consume from the same
topic.</li>
<li><strong>proxy</strong> &#8211; The object that will handle all incoming messages.</li>
<li><strong>pool_name</strong> &#8211; String containing the name of the pool of workers</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="nova.openstack.common.rpc.common.InvalidRPCConnectionReuse">
<em class="property">exception </em><tt class="descname">InvalidRPCConnectionReuse</tt><big>(</big><em>message=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.InvalidRPCConnectionReuse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nova.openstack.common.rpc.common.RPCException" title="nova.openstack.common.rpc.common.RPCException"><tt class="xref py py-class docutils literal"><span class="pre">nova.openstack.common.rpc.common.RPCException</span></tt></a></p>
<dl class="attribute">
<dt id="nova.openstack.common.rpc.common.InvalidRPCConnectionReuse.message">
<tt class="descname">message</tt><em class="property"> = u'Invalid reuse of an RPC connection.'</em><a class="headerlink" href="#nova.openstack.common.rpc.common.InvalidRPCConnectionReuse.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="nova.openstack.common.rpc.common.RPCException">
<em class="property">exception </em><tt class="descname">RPCException</tt><big>(</big><em>message=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.RPCException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<dl class="attribute">
<dt id="nova.openstack.common.rpc.common.RPCException.message">
<tt class="descname">message</tt><em class="property"> = u'An unknown RPC related exception occurred.'</em><a class="headerlink" href="#nova.openstack.common.rpc.common.RPCException.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="nova.openstack.common.rpc.common.RemoteError">
<em class="property">exception </em><tt class="descname">RemoteError</tt><big>(</big><em>exc_type=None</em>, <em>value=None</em>, <em>traceback=None</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.RemoteError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nova.openstack.common.rpc.common.RPCException" title="nova.openstack.common.rpc.common.RPCException"><tt class="xref py py-class docutils literal"><span class="pre">nova.openstack.common.rpc.common.RPCException</span></tt></a></p>
<p>Signifies that a remote class has raised an exception.</p>
<p>Contains a string representation of the type of the original exception,
the value of the original exception, and the traceback.  These are
sent to the parent as a joined string so printing the exception
contains all of the relevant info.</p>
<dl class="attribute">
<dt id="nova.openstack.common.rpc.common.RemoteError.message">
<tt class="descname">message</tt><em class="property"> = u'Remote error: %(exc_type)s %(value)s\n%(traceback)s.'</em><a class="headerlink" href="#nova.openstack.common.rpc.common.RemoteError.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="nova.openstack.common.rpc.common.Timeout">
<em class="property">exception </em><tt class="descname">Timeout</tt><big>(</big><em>message=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.Timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nova.openstack.common.rpc.common.RPCException" title="nova.openstack.common.rpc.common.RPCException"><tt class="xref py py-class docutils literal"><span class="pre">nova.openstack.common.rpc.common.RPCException</span></tt></a></p>
<p>Signifies that a timeout has occurred.</p>
<p>This exception is raised if the rpc_response_timeout is reached while
waiting for a response from the remote side.</p>
<dl class="attribute">
<dt id="nova.openstack.common.rpc.common.Timeout.message">
<tt class="descname">message</tt><em class="property"> = u'Timeout while waiting on RPC response.'</em><a class="headerlink" href="#nova.openstack.common.rpc.common.Timeout.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="nova.openstack.common.rpc.common.UnsupportedRpcVersion">
<em class="property">exception </em><tt class="descname">UnsupportedRpcVersion</tt><big>(</big><em>message=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.UnsupportedRpcVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nova.openstack.common.rpc.common.RPCException" title="nova.openstack.common.rpc.common.RPCException"><tt class="xref py py-class docutils literal"><span class="pre">nova.openstack.common.rpc.common.RPCException</span></tt></a></p>
<dl class="attribute">
<dt id="nova.openstack.common.rpc.common.UnsupportedRpcVersion.message">
<tt class="descname">message</tt><em class="property"> = u'Specified RPC version, %(version)s, not supported by this endpoint.'</em><a class="headerlink" href="#nova.openstack.common.rpc.common.UnsupportedRpcVersion.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="nova.openstack.common.rpc.common.deserialize_remote_exception">
<tt class="descname">deserialize_remote_exception</tt><big>(</big><em>conf</em>, <em>data</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.deserialize_remote_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nova.openstack.common.rpc.common.serialize_remote_exception">
<tt class="descname">serialize_remote_exception</tt><big>(</big><em>failure_info</em><big>)</big><a class="headerlink" href="#nova.openstack.common.rpc.common.serialize_remote_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares exception data to be sent over rpc.</p>
<p>Failure_info should be a sys.exc_info() tuple.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="nova.openstack.common.rpc.amqp.html"
                                  title="previous chapter">The <tt class="docutils literal docutils literal docutils literal"><span class="pre">nova.openstack.common.rpc.amqp</span></tt> Module</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="nova.openstack.common.rpc.dispatcher.html"
                                  title="next chapter">The <tt class="docutils literal"><span class="pre">nova.openstack.common.rpc.dispatcher</span></tt> Module</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/api/nova.openstack.common.rpc.common.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nova.openstack.common.rpc.dispatcher.html" title="The nova.openstack.common.rpc.dispatcher Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nova.openstack.common.rpc.amqp.html" title="The nova.openstack.common.rpc.amqp Module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">nova 2012.2.1 documentation</a> &raquo;</li>
          <li><a href="../devref/index.html" >Developer Guide</a> &raquo;</li>
          <li><a href="autoindex.html" accesskey="U">&lt;no title&gt;</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-present, OpenStack, LLC.
      Last updated on Thu Nov 1 16:11:51 2012, commit 4ed8d3e.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>